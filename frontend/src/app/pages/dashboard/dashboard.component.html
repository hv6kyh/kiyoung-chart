<div class="app-container">
    <app-header></app-header>
    <div class="main-layout">
        <app-stock-sidebar (stockSelected)="selectSymbol($event)"></app-stock-sidebar>

        <main class="chart-section">
            <div class="chart-header" *ngIf="predictionData(); else headerSkeleton">
                <div class="stock-title">
                    <h2>{{ currentSymbol() }}</h2>
                    <div class="stock-price-info">
                        <span class="price">139,500</span>
                        <span class="change up">+1.38%</span>
                    </div>
                </div>
                <div class="sector-tags">
                    <span class="tag">반도체</span>
                    <span class="tag">KOSPI 200</span>
                </div>
            </div>

            <ng-template #headerSkeleton>
                <div class="skeleton-header pulse"></div>
            </ng-template>

            <div class="chart-wrapper">
                <app-chart [data]="predictionData()"></app-chart>
            </div>
        </main>

        <app-sidebar [data]="predictionData()"></app-sidebar>
    </div>
    <app-footer></app-footer>
    @if (authService.showAuthModal()) {
    <app-auth-modal></app-auth-modal>
    }
    <app-match-detail-modal></app-match-detail-modal>
</div>